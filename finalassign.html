<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Management</title>
</head>
<style>
.hovereff tr:hover {
  background-color: lightgray;
  cursor: pointer;
}
</style>
<body style="margin: 0%;font-family: 'Arial', sans-serif;">
  <h1 style="background-color: blue;padding: 10px;text-align: center;margin: 0%;color:antiquewhite">Student Management Asessment</h1>
  <h1>Actions</h1>
  <div>
    <hr style="background-color:blue;height: 2px;">
  </div>
  <div>
    <br><br>
    <button id="color" style="background-color: green;color: white;padding:8px 16px;margin: 5px;border: none;border-radius: 4px;cursor: pointer;">Change Background Color</button>
    <button id="show" style="background-color: green;color: white;padding:8px 16px;margin: 5px;border: none;border-radius: 4px;cursor: pointer;">Hide/Show Table</button>
    <button id="sortName" style="background-color: green;color: white;padding:8px 16px;margin: 5px;border: none;border-radius: 4px;cursor: pointer;">Sort By Name</button>
    <button id="filterAge" style="background-color: green;color: white;padding:8px 16px;margin: 5px;border: none;border-radius: 4px;cursor: pointer;">Show Age < 20</button>
    <button style="background-color: green;color: white;padding:8px 16px;margin: 5px;border: none;border-radius: 4px;cursor: pointer;">Reset Table</button>

    <h1>Student List</h1>
    <hr style="background-color:blue;height: 2px;">
  </div>
  <div id="tablediv"></div>
  <table id="datatab" style="border-collapse: collapse; width: 100%" class="hovereff">
    <thead>
      <tr>
        <th style="border: 1px solid #ddd; padding: 8px; text-align: left; background-color: #4CAF50; color: white;">Name</th>
        <th style="border: 1px solid #ddd; padding: 8px; text-align: left; background-color: #4CAF50; color: white;">Age</th>
        <th style="border: 1px solid #ddd; padding: 8px; text-align: left; background-color: #4CAF50; color: white;">Course</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    let btn = document.querySelector("#color");
    btn.addEventListener('click', () => {
      if (document.body.style.backgroundColor == "lightgray") {
        document.body.style.backgroundColor = "lightblue";
      } else {
        document.body.style.backgroundColor = "lightgray";
      }
    });
  </script>

  <script>
    const students = [
      { name: "Amit Sharma", age: 19, course: "B.Tech" },
      { name: "Priya Verma", age: 22, course: "MCA" },
      { name: "Rohit Gupta", age: 20, course: "BCA" },
      { name: "Neha Singh", age: 23, course: "B.Sc" },
      { name: "Karan Patel", age: 18, course: "B.Com" }
    ];

    const tableref = document.querySelector("#datatab tbody");

    function renderTable(data) {
      tableref.innerHTML = "";
      data.forEach(el => {
        let li = document.createElement("tr");
        let tdname = document.createElement("td");
        let tdage = document.createElement("td");
        let tdcourse = document.createElement("td");

        tdname.textContent = el.name;
        tdname.style.border = "1px solid #ddd";
        tdname.style.padding = "8px";
        tdname.style.textAlign = "left";

        tdage.textContent = el.age;
        tdage.style.border = "1px solid #ddd";
        tdage.style.padding = "8px";
        tdage.style.textAlign = "left";

        tdcourse.textContent = el.course;
        tdcourse.style.border = "1px solid #ddd";
        tdcourse.style.padding = "8px";
        tdcourse.style.textAlign = "left";

        li.appendChild(tdname);
        li.appendChild(tdage);
        li.appendChild(tdcourse);
        tableref.appendChild(li);
      });
    }

    renderTable(students);
  </script>

  <script>
    const button = document.getElementById("show");
    const table = document.getElementById("datatab");

    button.addEventListener("click", () => {
      table.style.display = (table.style.display === "none") ? "block" : "none";
    });
  </script>

  <script>
    const filterButton = document.getElementById("filterAge");
    filterButton.addEventListener("click", () => {
      const rows = document.querySelectorAll("#datatab tbody tr");
      rows.forEach(row => {
        const age = parseInt(row.children[1].textContent);
        row.style.display = age < 20 ? "" : "none";
      });
    });
  </script>

  <script>
    const sortButton = document.getElementById("sortName");
    sortButton.addEventListener("click", () => {
      const sorted = [...students].sort((a, b) => a.name.localeCompare(b.name));
      renderTable(sorted);
    });
  </script>
</body>
</html>
